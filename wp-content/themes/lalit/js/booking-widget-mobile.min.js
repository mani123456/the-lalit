function showSelectError(e,t,o){jQuery(o).find("."+e).parents("div.errorDisplayDiv").hasClass("error")?jQuery(o).find("."+e).parents("div.errorDisplayDiv").find("span.hint").text(t):(jQuery(o).find("."+e).parents("div.errorDisplayDiv").append('<span class="hint">'+t+"</span>"),jQuery(o).find("."+e).parents("div.errorDisplayDiv").addClass("error"))}function changeSelectError(e,t){jQuery(e).find("."+t).parents("div.errorDisplayDiv").find("span.hint").remove(),jQuery(e).find("."+t).parents("div.errorDisplayDiv").removeClass("error")}function validateForm(){return hasError}var promoCode="";jQuery(document).ready(function(){jQuery(".v-align-widget").find(".horizontal-promocode").remove(),jQuery(".v-align-widget").find(".horizontal-promocode-display").remove(),jQuery(".h-align-widget").find(".vertical-promocode").remove(),jQuery(".h-align-widget").find(".vertical-promocode-display").remove(),jQuery(".promocode-fancybox").fancybox({autoSize:!1,width:"100%",height:"auto",afterClose:function(){setTimeout(function(){jQuery("header .mobile-book-stay").trigger("click")},300)}}),jQuery(".mobile-book-stay").fancybox({autoSize:!1,width:"auto",height:"auto"}),jQuery(".vertical-promocode-link.promocode-fancybox, .horizontal-promocode-link.promocode-fancybox").on("click",function(){jQuery(".promocode-error").hide(),jQuery(".promocode-add").hide(),jQuery(".promocode-note").show(),jQuery(".promocode-container").show(),setTimeout(function(){jQuery(".book-stay-promo-text").focus()},100)})}),jQuery(".promocode-close").on("click",function(){promoCode="",jQuery(".promocode-text").val(""),jQuery(".promocode-display-text").text(""),jQuery(".horizontal-promocode-display").hide(),jQuery(".vertical-promocode-display").hide(),jQuery(".promocode.vertical-promocode").show(),jQuery(".promocode.horizontal-promocode").show()}),jQuery(".book-stay-promo-text").on("keypress",function(e){13==e.which&&jQuery(".promocode-btn.promocode-submit").trigger("click")}),jQuery(document).keyup(function(e){27==e.keyCode&&jQuery.fancybox.close()}),jQuery(".promocode-btn.promocode-submit").on("click",function(e){promoCode=jQuery(".fancybox-wrap .book-stay-promo-text").val(),""!=jQuery.trim(promoCode)?(jQuery(".promocode-error").hide(),jQuery(".promocode-container").hide(),jQuery(".promocode-add").fadeIn(300),jQuery(".promocode.vertical-promocode").hide(),jQuery(".promocode.horizontal-promocode").hide(),jQuery(".promocode-display-text").text("Promo Code : "+promoCode),jQuery(".horizontal-promocode-display, .vertical-promocode-display").show(),setTimeout(function(){jQuery.fancybox.close()},1500)):(jQuery(".promocode-note").hide(),jQuery(".promocode-error").show())});var bookingEngineArray=["","myhotelreservation","sabre"],date=new Date,hotel,checkInDate,checkOutDate,adultsCount,childrenCount,childrenAges="",hasError=0;jQuery(document).ready(function(){var e=(new Date).getFullYear(),t=(new Date).getFullYear()+1,o=e+":"+t;jQuery(".from").datepicker({dateFormat:"dd M yy",yearRange:o,changeMonth:!1,minDate:0,numberOfMonths:1,showOn:"both",buttonImageOnly:!0,showButtonPanel:!0,closeText:"Close",dayNamesShort:["S","M","T","W","T","F","S"],dayNamesMin:["S","M","T","W","T","F","S"]}).on("change",$.proxy(function(e){var t=jQuery(e.currentTarget),o=t.datepicker("getDate");o.setDate(o.getDate()+1),jQuery(t).closest(".booking_widget").find(".to").datepicker("setDate",o),jQuery(t).closest(".booking_widget").find(".to").datepicker("option","minDate",o)},this)),jQuery(".to").datepicker({dateFormat:"dd M yy",yearRange:o,changeMonth:!1,numberOfMonths:1,showOn:"both",buttonImageOnly:!0,showButtonPanel:!0,closeText:"Close",dayNamesShort:["S","M","T","W","T","F","S"],dayNamesMin:["S","M","T","W","T","F","S"]}),jQuery(".from").datepicker("setDate",new Date);var r=new Date;jQuery(".from").datepicker("setDate",r),r.setDate(r.getDate()+1),jQuery(".to").datepicker("setDate",r),jQuery(".to").datepicker("option","minDate",r)}),jQuery(".formSend").on("click",function(e){var t=jQuery(e.currentTarget);if(hotel=jQuery(t).closest(".booking_widget").find(".selecthotel option:selected").val(),checkInDate=new Date(jQuery(t).closest(".booking_widget").find(".from").val()),checkOutDate=new Date(jQuery(t).closest(".booking_widget").find(".to").val()),adultsCount=jQuery(t).closest(".booking_widget").find(".adult option:selected").val(),childrenCount=jQuery(t).closest(".booking_widget").find(".children option:selected").val(),url=jQuery(t).closest(".booking_widget").find(".selecthotel option:selected").attr("data-booking-url"),bookingEngine=bookingEngineArray[jQuery(t).closest(".booking_widget").find(".selecthotel option:selected").attr("data-booking-engine")],hasError=0,"0"==hotel?(showSelectError("selecthotel","Please select a Hotel",jQuery(t).closest(".booking_widget")),hasError=1):changeSelectError(jQuery(t).closest(".booking_widget"),"selecthotel"),jQuery(t).closest(".booking_widget").find(".children option:selected").val()>0)for(val=jQuery(t).closest(".booking_widget").find(".children option:selected").val(),r=1;r<=val;r++)-1==jQuery(t).closest(".booking_widget").find(".select_field_"+r+" option:selected").val()?(showSelectError("select_field_"+r,"Please enter childâ€™s age",jQuery(t).closest(".booking_widget")),hasError=1):changeSelectError(jQuery(t).closest(".booking_widget"),"select_field_"+r);if("-1"!=url&&!hasError)if("myhotelreservation"==bookingEngine){if(checkInMonth=checkInDate.getMonth()+1<10?"0"+(checkInDate.getMonth()+1):checkInDate.getMonth()+1,checkInDay=checkInDate.getDate()<10?"0"+checkInDate.getDate():checkInDate.getDate(),checkOutMonth=checkOutDate.getMonth()+1<10?"0"+(checkOutDate.getMonth()+1):checkOutDate.getMonth()+1,checkOutDay=checkOutDate.getDate()<10?"0"+checkOutDate.getDate():checkOutDate.getDate(),from=checkInDate.getFullYear()+"-"+checkInMonth+"-"+checkInDay,to=checkOutDate.getFullYear()+"-"+checkOutMonth+"-"+checkOutDay,childrenCount>0){for(r=1;r<=childrenCount;r++)childrenAges+=jQuery(t).closest(".booking_widget").find(".select_field_"+r+" option:selected").val()+"-";childrenAges=childrenAges.replace(/\-$/,""),url+="&adult="+adultsCount+"&child="+childrenCount+"&arrive="+from+"&depart="+to}else url+="&adult="+adultsCount+"&arrive="+from+"&depart="+to;if(""!=jQuery.trim(promoCode)&&(url+="&promo="+promoCode),"https://www.thelalit.com"==window.location.href){var o="";if("undefined"!=typeof ga&&ga.create)for(var r=0;r<ga.getAll().length;r++)"UA-11443455-1"==ga.getAll()[r].get("trackingId")&&(o=ga.getAll()[r].get("linkerParam"));else alert("We have detected an active Adblocker that may interfere with your experience with the website. Please turn off your Adblocker to use all services and features.");""!=o&&(window.location=url+"&"+o+"&dateTime="+date.getTime())}else window.location=url+"&dateTime="+date.getTime()}else if("sabre"==bookingEngine){if(checkInMonth=checkInDate.getMonth()+1<10?"0"+(checkInDate.getMonth()+1):checkInDate.getMonth()+1,checkInDay=checkInDate.getDate()<10?"0"+checkInDate.getDate():checkInDate.getDate(),checkOutMonth=checkOutDate.getMonth()+1<10?"0"+(checkOutDate.getMonth()+1):checkOutDate.getMonth()+1,checkOutDay=checkOutDate.getDate()<10?"0"+checkOutDate.getDate():checkOutDate.getDate(),arrive=checkInMonth+"/"+checkInDay+"/"+checkInDate.getFullYear(),depart=checkOutMonth+"/"+checkOutDay+"/"+checkOutDate.getFullYear(),childrenCount>0){for(r=1;r<=childrenCount;r++)childrenAges+=jQuery(t).closest(".booking_widget").find(".select_field_"+r+" option:selected").val()+"|";childrenAges=childrenAges.replace(/\|$/,""),url+="&start=availresults&arrive="+arrive+"&depart="+depart+"&adult="+adultsCount+"&child="+childrenCount+"&childages="+childrenAges}else url+="&start=availresults&arrive="+arrive+"&depart="+depart+"&adult="+adultsCount+"&child="+childrenCount;""!=jQuery.trim(promoCode)&&(url+="&Promo="+promoCode);var o="";if("undefined"!=typeof ga)for(var r=0;r<ga.getAll().length;r++)"UA-11443455-1"==ga.getAll()[r].get("trackingId")&&(o=ga.getAll()[r].get("linkerParam"));window.location=""!=o?url+"&"+o+"&dateTime="+date.getTime():url+"&dateTime="+date.getTime()}}),jQuery(".children").on("change",function(e){var t=jQuery(e.currentTarget);if((childrenCount=jQuery(t).closest(".booking_widget").find(".children option:selected").val())>0){for(i=1;i<=4;i++)childrenCount>=i?jQuery(t).closest(".booking_widget").find(".select_field_"+i).parents("div.errorDisplayDiv").slideDown(100):(jQuery(t).closest(".booking_widget").find(".select_field_"+i).parents("div.errorDisplayDiv").slideUp(100),changeSelectError(jQuery(t).closest(".booking_widget"),"select_field_"+i));jQuery(t).closest(".booking_widget").find("div.child-element").slideDown(100)}else for(jQuery(t).closest(".booking_widget").find("div.child-element").slideUp(100),i=1;i<=4;i++)jQuery(t).closest(".booking_widget").find(".select_field_"+i+">option:eq(0)").prop("selected",!0),changeSelectError(jQuery(t).closest(".booking_widget"),"select_field_"+i)}),jQuery(".booking-widget").on("submit",function(){return!1}),jQuery("body").on("click",function(e){jQuery(e.target).is(".v-align-widget")||jQuery(e.target).is(".book-item .btn.primary-btn")||jQuery(e.target).is(".book-item .btn.tertiary-btn")||jQuery(e.target).is(".form_submit_nav_widget")||jQuery(e.target).is("#ui-datepicker-div")||jQuery(e.target).is("#ui-datepicker-div .ui-datepicker-group .ui-datepicker-calendar, #ui-datepicker-div .ui-datepicker-buttonpane, .ui-icon, .ui-datepicker-close")||jQuery(e.target).parents("#ui-datepicker-div").length||jQuery(e.target).parents(".fancybox-wrap.fancybox-desktop").length||jQuery(e.target).is(".fancybox-item.fancybox-close")||jQuery(".v-align-widget").is(":visible")&&".v-align-widget"!==e.target.className&&!jQuery(e.target).parents(".v-align-widget").length&&jQuery(".v-align-widget").fadeOut(300)});