function showSelectError(e,t,n){jQuery(n).find("."+e).parents("div.errorDisplayDiv").hasClass("error")?jQuery(n).find("."+e).parents("div.errorDisplayDiv").find("span.hint").text(t):(jQuery(n).find("."+e).parents("div.errorDisplayDiv").append('<span class="hint">'+t+"</span>"),jQuery(n).find("."+e).parents("div.errorDisplayDiv").addClass("error"))}function changeSelectError(e,t){jQuery(e).find("."+t).parents("div.errorDisplayDiv").find("span.hint").remove(),jQuery(e).find("."+t).parents("div.errorDisplayDiv").removeClass("error")}function validateForm(){return hasError}var bookingEngineArray=["","myhotelreservation","sabre"],hotel,checkInDate,checkOutDate,adultsCount,childrenCount,childrenAges="",hasError=0;jQuery(document).ready(function(){var e="dd M yy",t=(new Date).getFullYear(),n=(new Date).getFullYear()+1,o=t+":"+n;jQuery(".from").datepicker({dateFormat:e,yearRange:o,changeMonth:!1,minDate:0,numberOfMonths:2,showOn:"both",buttonImageOnly:!0,showButtonPanel:!0,closeText:"Close",dayNamesShort:["S","M","T","W","T","F","S"],dayNamesMin:["S","M","T","W","T","F","S"]}).on("change",$.proxy(function(e){var t=jQuery(e.currentTarget),n=t.datepicker("getDate");n.setDate(n.getDate()+1),jQuery(t).closest(".booking_widget").find(".to").datepicker("setDate",n),jQuery(t).closest(".booking_widget").find(".to").datepicker("option","minDate",n)},this)),jQuery(".to").datepicker({dateFormat:e,yearRange:o,changeMonth:!1,numberOfMonths:2,showOn:"both",buttonImageOnly:!0,showButtonPanel:!0,closeText:"Close",dayNamesShort:["S","M","T","W","T","F","S"],dayNamesMin:["S","M","T","W","T","F","S"]}),jQuery(".from").datepicker("setDate",new Date);var r=new Date;jQuery(".from").datepicker("setDate",r),r.setDate(r.getDate()+1),jQuery(".to").datepicker("setDate",r),jQuery(".to").datepicker("option","minDate",r)}),jQuery(".formSend").on("click",function(e){var t=jQuery(e.currentTarget);if(hotel=jQuery(t).closest(".booking_widget").find(".selecthotel option:selected").val(),checkInDate=new Date(jQuery(t).closest(".booking_widget").find(".from").val()),checkOutDate=new Date(jQuery(t).closest(".booking_widget").find(".to").val()),adultsCount=jQuery(t).closest(".booking_widget").find(".adult option:selected").val(),childrenCount=jQuery(t).closest(".booking_widget").find(".children option:selected").val(),url=jQuery(t).closest(".booking_widget").find(".selecthotel option:selected").attr("data-booking-url"),bookingEngine=bookingEngineArray[jQuery(t).closest(".booking_widget").find(".selecthotel option:selected").attr("data-booking-engine")],hasError=0,"0"==hotel?(showSelectError("selecthotel","Please select a Hotel",jQuery(t).closest(".booking_widget")),hasError=1):changeSelectError(jQuery(t).closest(".booking_widget"),"selecthotel"),jQuery(t).closest(".booking_widget").find(".children option:selected").val()>0)for(val=jQuery(t).closest(".booking_widget").find(".children option:selected").val(),o=1;o<=val;o++)jQuery(t).closest(".booking_widget").find(".select_field_"+o+" option:selected").val()==-1?(showSelectError("select_field_"+o,"Please enter childâ€™s age",jQuery(t).closest(".booking_widget")),hasError=1):changeSelectError(jQuery(t).closest(".booking_widget"),"select_field_"+o);if("-1"!=url&&!hasError)if("myhotelreservation"==bookingEngine){if(checkInMonth=checkInDate.getMonth()+1<10?"0"+(checkInDate.getMonth()+1):checkInDate.getMonth()+1,checkInDay=checkInDate.getDate()<10?"0"+checkInDate.getDate():checkInDate.getDate(),checkOutMonth=checkOutDate.getMonth()+1<10?"0"+(checkOutDate.getMonth()+1):checkOutDate.getMonth()+1,checkOutDay=checkOutDate.getDate()<10?"0"+checkOutDate.getDate():checkOutDate.getDate(),from=checkInDate.getFullYear()+"-"+checkInMonth+"-"+checkInDay,to=checkOutDate.getFullYear()+"-"+checkOutMonth+"-"+checkOutDay,childrenCount>0){for(o=1;o<=childrenCount;o++)childrenAges+=jQuery(t).closest(".booking_widget").find(".select_field_"+o+" option:selected").val()+"-";childrenAges=childrenAges.replace(/\-$/,""),url+="?a="+adultsCount+"&c="+childrenCount+"&ca="+childrenAges+"&f="+from+"&t="+to}else url+="?a="+adultsCount+"&f="+from+"&t="+to;var n="";if("undefined"!=typeof ga)for(var o=0;o<ga.getAll().length;o++)"UA-11443455-1"==ga.getAll()[o].get("trackingId")&&(n=ga.getAll()[o].get("linkerParam"));""!=n?window.location=url+"&"+n:window.location=url}else if("sabre"==bookingEngine){if(checkInMonth=checkInDate.getMonth()+1<10?"0"+(checkInDate.getMonth()+1):checkInDate.getMonth()+1,checkInDay=checkInDate.getDate()<10?"0"+checkInDate.getDate():checkInDate.getDate(),checkOutMonth=checkOutDate.getMonth()+1<10?"0"+(checkOutDate.getMonth()+1):checkOutDate.getMonth()+1,checkOutDay=checkOutDate.getDate()<10?"0"+checkOutDate.getDate():checkOutDate.getDate(),arrive=checkInMonth+"/"+checkInDay+"/"+checkInDate.getFullYear(),depart=checkOutMonth+"/"+checkOutDay+"/"+checkOutDate.getFullYear(),childrenCount>0){for(o=1;o<=childrenCount;o++)childrenAges+=jQuery(t).closest(".booking_widget").find(".select_field_"+o+" option:selected").val()+"|";childrenAges=childrenAges.replace(/\|$/,""),url+="&arrive="+arrive+"&depart="+depart+"&adult="+adultsCount+"&child="+childrenCount+"&childages="+childrenAges}else url+="&arrive="+arrive+"&depart="+depart+"&adult="+adultsCount+"&child="+childrenCount;var n="";if("undefined"!=typeof ga)for(var o=0;o<ga.getAll().length;o++)"UA-11443455-1"==ga.getAll()[o].get("trackingId")&&(n=ga.getAll()[o].get("linkerParam"));""!=n?window.location=url+"&"+n:window.location=url}}),jQuery(".children").on("change",function(e){var t=jQuery(e.currentTarget);if(childrenCount=jQuery(t).closest(".booking_widget").find(".children option:selected").val(),childrenCount>0){for(i=1;i<=4;i++)childrenCount>=i?jQuery(t).closest(".booking_widget").find(".select_field_"+i).parents("div.errorDisplayDiv").slideDown(100):(jQuery(t).closest(".booking_widget").find(".select_field_"+i).parents("div.errorDisplayDiv").slideUp(100),changeSelectError(jQuery(t).closest(".booking_widget"),"select_field_"+i));jQuery(t).closest(".booking_widget").find("div.child-element").slideDown(100)}else for(jQuery(t).closest(".booking_widget").find("div.child-element").slideUp(100),i=1;i<=4;i++)jQuery(t).closest(".booking_widget").find(".select_field_"+i+">option:eq(0)").prop("selected",!0),changeSelectError(jQuery(t).closest(".booking_widget"),"select_field_"+i)}),jQuery(".booking-widget").on("submit",function(){return!1});